#pragma once

#include "Base.h"

_BEGIN(Engine)

class CAnimationCtrl : public CBase
{
private:
	explicit CAnimationCtrl(LPD3DXANIMATIONCONTROLLER pAniCtrl);
	explicit CAnimationCtrl(const CAnimationCtrl &rhs);
	virtual ~CAnimationCtrl() = default;
public:
	HRESULT Ready_AnimationCtrl();
	HRESULT Set_AnimationSet(const _uint& iIndex);
	void Play_AnimationSet(const _float& fTimeDelta);
private:
	LPD3DXANIMATIONCONTROLLER		m_pAniCtrl = nullptr;
	_uint							m_iOldAniIdx = 0;
	_uint							m_iCurrentTrack = 0;
	_uint							m_iNewTrack = 1;
	_float							m_fTimeAcc = 0.f; // Acc : ´©Àû
public:
	static CAnimationCtrl* Create(LPD3DXANIMATIONCONTROLLER pAniCtrl);
	static CAnimationCtrl* Create(const CAnimationCtrl &rhs);
protected:
	virtual void Free();
};

_END